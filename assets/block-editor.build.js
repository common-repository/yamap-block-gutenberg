!function(n){var o={};function r(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=n,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,X,ee){"use strict";(function(e){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e){return(y="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":o(e)})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}ee.d(X,"c",function(){return U}),ee.d(X,"a",function(){return $}),ee.d(X,"b",function(){return J});var t="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function f(e,t){return e(t={exports:{}},t.exports),t.exports}var m=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}})()&&Object.assign;var v="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function b(){}var g=f(function(e){e.exports=function(){function e(e,t,n,o,r,a){if(a!==v){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=b,n.PropTypes=n}()}),_="__global_unique_id__",w=function(){return t[_]=(t[_]||0)+1};function O(e){return function(){return e}}var j=function(){};j.thatReturns=O,j.thatReturnsFalse=O(!1),j.thatReturnsTrue=O(!0),j.thatReturnsNull=O(null),j.thatReturnsThis=function(){return this},j.thatReturnsArgument=function(e){return e};var k=j,E=f(function(e,t){t.__esModule=!0;n(React);var s=n(g),u=n(w);n(k);function n(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==o(t)&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+o(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=1073741823;t.default=function(e,i){var t,n,o="__create-react-context-"+(0,u.default)()+"__",r=function(s){function u(){var e,t,n,o;c(this,u);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t=l(this,s.call.apply(s,[this].concat(a)))).emitter=(n=t.props.value,o=[],{on:function(e){o.push(e)},off:function(t){o=o.filter(function(e){return e!==t})},get:function(){return n},set:function(e,t){n=e,o.forEach(function(e){return e(n,t)})}}),l(t,e)}return p(u,s),u.prototype.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},u.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t=this.props.value,n=e.value,o=void 0;((r=t)===(a=n)?0!==r||1/r==1/a:r!=r&&a!=a)?o=0:(o="function"==typeof i?i(t,n):f,0!=(o|=0)&&this.emitter.set(e.value,o))}var r,a},u.prototype.render=function(){return this.props.children},u}(React.Component);r.childContextTypes=((t={})[o]=s.default.object.isRequired,t);var a=function(a){function i(){var e,n;c(this,i);for(var t=arguments.length,o=Array(t),r=0;r<t;r++)o[r]=arguments[r];return(e=n=l(this,a.call.apply(a,[this].concat(o)))).state={value:n.getValue()},n.onUpdate=function(e,t){0!=((0|n.observedBits)&t)&&n.setState({value:n.getValue()})},l(n,e)}return p(i,a),i.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?f:t},i.prototype.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?f:e},i.prototype.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},i.prototype.getValue=function(){return this.context[o]?this.context[o].get():e},i.prototype.render=function(){return e=this.props.children,(Array.isArray(e)?e[0]:e)(this.state.value);var e},i}(React.Component);return a.contextTypes=((n={})[o]=s.default.object,n),{Provider:r,Consumer:a}},e.exports=t.default});a(E);var R=a(f(function(e,t){t.__esModule=!0;var n=r(React),o=r(E);function r(e){return e&&e.__esModule?e:{default:e}}t.default=n.default.createContext||o.default,e.exports=t.default})),C=a(f(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.displayName||e.name||("string"==typeof e&&0<e.length?e:"Unknown")}})),P=R(null),x=function(o){var r=C(o);return function(n){return React.createElement(P.Consumer,null,function(e){if(null!==e)return React.createElement(o,u({ymaps:e},n));var t="Couldn't find Yandex.Maps API in the context. "+"Make sure that <".concat(r," /> is inside <YMaps /> provider");throw new Error(t)})}},S=R(null),M=function(n){return function(t){return React.createElement(S.Consumer,null,function(e){return React.createElement(n,u({parent:e},t))})}},N={lang:"ru_RU",load:"",ns:"",mode:"release"},T={},A=function(){function a(e){i(this,a);var t=Date.now().toString(32);this.options=e,this.namespace=e.query.ns,this.onload=a.onloadCallback+"$$"+t,this.onerror=a.onerrorCallback+"$$"+t,this.api,this.promise}return s(a,[{key:"getApi",value:function(){return"undefined"!=typeof window&&this.namespace?window[this.namespace]:this.api}},{key:"setApi",value:function(e){return this.api=e}},{key:"getPromise",value:function(){return this.namespace?T[this.namespace]:this.promise}},{key:"setPromise",value:function(e){return this.namespace?T[this.namespace]=this.promise=e:this.promise=e}},{key:"load",value:function(){var o=this;if(this.getApi())return Promise.resolve(this.setApi(this.getApi()));if(this.getPromise())return this.setPromise(this.getPromise());var t=Object.assign({onload:this.onload,onerror:this.onerror},N,this.options.query),e=Object.keys(t).map(function(e){return"".concat(e,"=").concat(t[e])}).join("&"),r=[a.getBaseUrl(this.options.enterprise),this.options.version,"?"+e].join("/"),n=new Promise(function(t,n){window[o.onload]=function(e){delete window[o.onload],e.loadModule=o.loadModule.bind(o),e.ready(function(){return t(o.setApi(e))})},window[o.onerror]=function(e){delete window[o.onerror],n(e)},o.fetchScript(r).catch(window[o.onerror])});return this.setPromise(n)}},{key:"fetchScript",value:function(n){var o=this;return new Promise(function(e,t){o.script=document.createElement("script"),o.script.type="text/javascript",o.script.onload=e,o.script.onerror=t,o.script.src=n,o.script.async="async",document.head.appendChild(o.script)})}},{key:"loadModule",value:function(n){var o=this;return new Promise(function(t,e){o.getApi().modules.require(n,function(e){!function(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]&&arguments[3];t="string"==typeof t?t.split("."):t.slice();for(var r,a=e;1<t.length;)a[r=t.shift()]||(a[r]={}),a=a[r];a[t[0]]=!0===o&&a[t[0]]||n}(o.api,n,e,!0),t(e)},e,o.getApi())})}}]),a}();A._name="__react-yandex-maps__",A.onloadCallback="__yandex-maps-api-onload__",A.onerrorCallback="__yandex-maps-api-onerror__",A.getBaseUrl=function(e){return"https://".concat(e?"enterprise.":"","api-maps.yandex.ru")};var U=function(e){function n(e){var t;return i(this,n),(t=p(this,l(n).call(this,e))).ymaps=new A(e),t}return c(n,React.Component),s(n,[{key:"componentDidMount",value:function(){!0===this.props.preload&&this.ymaps.load()}},{key:"render",value:function(){return React.createElement(P.Provider,{value:this.ymaps},this.props.children)}}]),n}();U.defaultProps={version:"2.1",enterprise:!1,query:{lang:"ru_RU",load:"",ns:""},preload:!1};var B=function(e,t){var n={};for(var o in e)-1===t.indexOf(o)&&(n[o]=e[o]);return n};function D(r){var a=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],e=function(e){function t(){var e;return i(this,t),(e=p(this,l(t).call(this))).state={loading:!0},e._isMounted=!1,e}return c(t,React.Component),s(t,[{key:"componentDidMount",value:function(){var t=this;this._isMounted=!0,this.props.ymaps.load().then(function(e){return Promise.all(n.concat(t.props.modules).map(e.loadModule)).then(function(){!0===t._isMounted&&t.setState({loading:!1},function(){t.props.onLoad(e)})})}).catch(function(e){!0===t._isMounted&&t.props.onError(e)})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props.ymaps,t=this.state.loading,n=!1===a||!1===t,o=B(this.props,["onLoad","onError","modules","ymaps"]);return n&&React.createElement(r,u({ymaps:e.getApi()},o))}}]),t}();return e.defaultProps={onLoad:Function.prototype,onError:Function.prototype,modules:[]},x(e)}var L=/^on(?=[A-Z])/;function z(o){return Object.keys(o).reduce(function(e,t){if(L.test(t)){var n=t.replace(L,"").toLowerCase();e._events[n]=o[t]}else e[t]=o[t];return e},{_events:{}})}function F(e,t,n){"function"==typeof n&&e.events.add(t,n)}function q(e,t,n){"function"==typeof n&&e.events.remove(t,n)}function W(t,n,o){Object.keys(Object.assign({},n,o)).forEach(function(e){n[e]!==o[e]&&(q(t,e,n[e]),F(t,e,o[e]))})}var I=function(e){return"default"+e.charAt(0).toUpperCase()+e.slice(1)};function Y(e,t){return void 0!==e[t]||void 0===e[I(t)]}function Z(e,t,n){return(Y(e,t)?e[t]:e[I(t)])||n}var V=function(e){function o(){var t;return i(this,o),(t=p(this,l(o).call(this))).state={instance:null},t._parentElement=null,t._getRef=function(e){t._parentElement=e},t}return c(o,React.Component),s(o,[{key:"componentDidMount",value:function(){var e=o.mountObject(this._parentElement,this.props.ymaps.Map,this.props);this.setState({instance:e})}},{key:"componentDidUpdate",value:function(e){null!==this.state.instance&&o.updateObject(this.state.instance,e,this.props)}},{key:"componentWillUnmount",value:function(){o.unmountObject(this.state.instance,this.props)}},{key:"render",value:function(){var e=o.getParentElementSize(this.props),t=z(this.props),n=B(t,["_events","state","defaultState","options","defaultOptions","instanceRef","ymaps","children","width","height","style","className"]);return React.createElement(S.Provider,{value:this.state.instance},React.createElement("div",u({ref:this._getRef},e,n),this.props.children))}}],[{key:"getParentElementSize",value:function(e){var t=e.width,n=e.height,o=e.style,r=e.className;return void 0!==o||void 0!==r?Object.assign({},o&&{style:o},r&&{className:r}):{style:{width:t,height:n}}}},{key:"mountObject",value:function(e,t,n){var o=z(n),r=o.instanceRef,a=o._events,i=new t(e,Z(n,"state"),Z(n,"options"));return Object.keys(a).forEach(function(e){return F(i,e,a[e])}),"function"==typeof r&&r(i),i}},{key:"updateObject",value:function(e,t,n){var o=z(n),r=o._events,a=o.instanceRef,i=z(t),s=i._events,u=i.instanceRef;if(Y(n,"state")){var c=Z(t,"state",{}),l=Z(n,"state",{});c.type!==l.type&&e.setType(l.type),c.behaviors!==l.behaviors&&(c.behaviors&&e.behaviors.disable(c.behaviors),l.behaviors&&e.behaviors.enable(l.behaviors)),c.zoom!==l.zoom&&e.setZoom(l.zoom),c.center!==l.center&&e.setCenter(l.center),l.bounds&&c.bounds!==l.bounds&&e.setBounds(l.bounds)}if(Y(n,"options")){var p=Z(t,"options"),f=Z(n,"options",{});p!==f&&e.options.set(f)}Z(t,"width")===Z(n,"width")&&Z(t,"height")===Z(n,"height")||e.container.fitToViewport(),W(e,s,r),u!==a&&("function"==typeof u&&u(null),"function"==typeof a&&a(e))}},{key:"unmountObject",value:function(t,e){var n=z(e),o=n.instanceRef,r=n._events;null!==t&&(Object.keys(r).forEach(function(e){return q(t,e,r[e])}),t.destroy(),"function"==typeof o&&o(null))}}]),o}();V.defaultProps={width:320,height:240};var $=D(V,!0,["Map"]),H=(M(D(function(e){function t(){var e;return i(this,t),(e=p(this,l(t).call(this))).state={instance:null},e}return c(t,React.Component),s(t,[{key:"componentDidMount",value:function(){var e=t.mountObject(this.props.ymaps.Clusterer,this.props);this.setState({instance:e})}},{key:"componentDidUpdate",value:function(e){null!==this.state.instance&&t.updateObject(this.state.instance,e,this.props)}},{key:"componentWillUnmount",value:function(){t.unmountObject(this.state.instance,this.props)}},{key:"render",value:function(){return React.createElement(S.Provider,{value:this.state.instance},this.props.children)}}],[{key:"mountObject",value:function(e,t){var n=z(t),o=n.instanceRef,r=n.parent,a=n._events,i=new e(Z(t,"options"));if(Object.keys(a).forEach(function(e){return F(i,e,a[e])}),r.geoObjects&&"function"==typeof r.geoObjects.add)r.geoObjects.add(i);else{if(!r.add||"function"!=typeof r.add)throw new Error("No parent found to mount Clusterer");r.add(i)}return"function"==typeof o&&o(i),i}},{key:"updateObject",value:function(e,t,n){var o=z(n),r=o._events,a=o.instanceRef,i=z(t),s=i._events,u=i.instanceRef;if(Y(n,"options")){var c=Z(t,"options"),l=Z(n,"options");c!==l&&e.options.set(l)}W(e,s,r),u!==a&&("function"==typeof u&&u(null),"function"==typeof a&&a(e))}},{key:"unmountObject",value:function(t,e){var n=z(e),o=n.instanceRef,r=n.parent,a=n._events;null!==t&&(Object.keys(a).forEach(function(e){return q(t,e,a[e])}),r.geoObjects&&"function"==typeof r.geoObjects.remove?r.geoObjects.remove(t):r.remove&&"function"==typeof r.remove&&r.remove(t),"function"==typeof o&&o(null))}}]),t}(),!0,["Clusterer"])),M(D(function(e){function t(){var e;return i(this,t),(e=p(this,l(t).call(this))).state={instance:null},e}return c(t,React.Component),s(t,[{key:"componentDidMount",value:function(){var e=t.mountObject(this.props.ymaps.ObjectManager,this.props);this.setState({instance:e})}},{key:"componentDidUpdate",value:function(e){null!==this.state.instance&&t.updateObject(this.state.instance,e,this.props)}},{key:"componentWillUnmount",value:function(){t.unmountObject(this.state.instance,this.props)}},{key:"render",value:function(){return null}}],[{key:"mountObject",value:function(e,t){var n=z(t),o=n.instanceRef,r=n.parent,a=n._events,i=Z(t,"options"),s=Z(t,"features"),u=Z(t,"filter"),c=Z(t,"objects"),l=Z(t,"clusters"),p=new e(i);if(p.add(s||[]),p.setFilter(u),p.objects.options.set(c),p.clusters.options.set(l),Object.keys(a).forEach(function(e){return F(p,e,a[e])}),r.geoObjects&&"function"==typeof r.geoObjects.add)r.geoObjects.add(p);else{if(!r.add||"function"!=typeof r.add)throw new Error("No parent found to mount ObjectManager");r.add(p)}return"function"==typeof o&&o(p),p}},{key:"updateObject",value:function(e,t,n){var o=z(n),r=o._events,a=o.instanceRef,i=z(t),s=i._events,u=i.instanceRef;if(Y(n,"options")){var c=Z(t,"options"),l=Z(n,"options");c!==l&&e.options.set(l)}if(Y(n,"objects")){var p=Z(t,"objects"),f=Z(n,"objects");p!==f&&e.objects.options.set(f)}if(Y(n,"clusters")){var m=Z(t,"clusters"),d=Z(n,"clusters");m!==d&&e.clusters.options.set(d)}if(Y(n,"filter")){var y=Z(t,"filter"),h=Z(n,"filter");y!==h&&e.options.set(h)}if(Y(n,"features")){var v=Z(t,"features"),b=Z(n,"features");v!==b&&(e.remove(v),e.add(b))}W(e,s,r),u!==a&&("function"==typeof u&&u(null),"function"==typeof a&&a(e))}},{key:"unmountObject",value:function(t,e){var n=z(e),o=n.instanceRef,r=n.parent,a=n._events;null!==t&&(Object.keys(a).forEach(function(e){return q(t,e,a[e])}),r.geoObjects&&"function"==typeof r.geoObjects.remove?r.geoObjects.remove(t):r.remove&&"function"==typeof r.remove&&r.remove(t),"function"==typeof o&&o(null))}}]),t}(),!0,["ObjectManager"])),function(e){function a(){var e;return i(this,a),(e=p(this,l(a).call(this))).state={instance:null},e}return c(a,React.Component),s(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.name,n=e.dangerZone,o=e.ymaps,r=a.mountObject(n&&n.modifyConstructor?n.modifyConstructor(o[t]):o[t],this.props);this.setState({instance:r})}},{key:"componentDidUpdate",value:function(e){null!==this.state.instance&&a.updateObject(this.state.instance,e,this.props)}},{key:"componentWillUnmount",value:function(){a.unmountObject(this.state.instance,this.props)}},{key:"render",value:function(){return null}}],[{key:"mountObject",value:function(e,t){var n=z(t),o=n.instanceRef,r=n.parent,a=n._events,i=new e(Z(t,"geometry"),Z(t,"properties"),Z(t,"options"));if(Object.keys(a).forEach(function(e){return F(i,e,a[e])}),r&&r.geoObjects&&"function"==typeof r.geoObjects.add)r.geoObjects.add(i);else{if(!r||!r.add||"function"!=typeof r.add)throw new Error("No parent found to mount ".concat(t.name));r.add(i)}return"function"==typeof o&&o(i),i}},{key:"updateObject",value:function(e,t,n){var o=z(n),r=o._events,a=o.instanceRef,i=z(t),s=i._events,u=i.instanceRef;if(Y(n,"geometry")){var c=Z(t,"geometry",{}),l=Z(n,"geometry",{});Array.isArray(l)&&l!==c?Array.isArray(l[0])&&"number"==typeof l[1]?(e.geometry.setCoordinates(l[0]),e.geometry.setRadius(l[1])):e.geometry.setCoordinates(l):"object"===y(l)&&(l.coordinates!==c.coordinates&&e.geometry.setCoordinates(l.coordinates),l.radius!==c.radius&&e.geometry.setRadius(l.radius))}if(Y(n,"properties")){var p=Z(t,"properties"),f=Z(n,"properties");p!==f&&e.properties.set(f)}if(Y(n,"options")){var m=Z(t,"options"),d=Z(n,"options");m!==d&&e.options.set(d)}W(e,s,r),u!==a&&("function"==typeof u&&u(null),"function"==typeof a&&a(e))}},{key:"unmountObject",value:function(t,e){var n=z(e),o=n.instanceRef,r=n.parent,a=n._events;null!==t&&(Object.keys(a).forEach(function(e){return q(t,e,a[e])}),r.geoObjects&&"function"==typeof r.geoObjects.remove?r.geoObjects.remove(t):r.remove&&"function"==typeof r.remove&&r.remove(t),"function"==typeof o&&o(null))}}]),a}());function G(t,e,n){return M(D(function(e){return React.createElement(H,u({name:t,dangerZone:n?{modifyConstructor:n}:void 0},e))},!0,[t]))}g.shape({type:g.oneOf(["Point","LineString","Rectangle","Polygon","Circle"]).isRequired,coordinates:g.oneOfType([g.arrayOf(g.number),g.arrayOf(g.arrayOf(g.number)),g.arrayOf(g.arrayOf(g.arrayOf(g.number)))]).isRequired,radius:g.number}),G("GeoObject",0,function(e){var o=e;function t(e,t,n){o.call(this,{geometry:e,properties:t},n)}return t.prototype=e.prototype,t}),g.arrayOf(g.oneOfType([g.number,g.arrayOf(g.number)])),G("Circle"),g.arrayOf(g.number);var J=G("Placemark"),K=(g.arrayOf(g.arrayOf(g.arrayOf(g.number))),G("Polygon"),g.arrayOf(g.arrayOf(g.number)),G("Polyline"),g.arrayOf(g.arrayOf(g.number)),G("Rectangle"),function(e){function t(){var e;return i(this,t),(e=p(this,l(t).call(this))).state={instance:null},e}return c(t,React.Component),s(t,[{key:"componentDidMount",value:function(){var e=t.mountControl(this.props.ymaps.control[this.props.name],this.props);this.setState({instance:e})}},{key:"componentDidUpdate",value:function(e){null!==this.state.instance&&t.updateControl(this.state.instance,e,this.props)}},{key:"componentWillUnmount",value:function(){t.unmountControl(this.state.instance,this.props)}},{key:"render",value:function(){return React.createElement(S.Provider,{value:this.state.instance},this.props.children)}}],[{key:"mountControl",value:function(e,t){var n=z(t),o=n.instanceRef,r=n.parent,a=n.lazy,i=n._events,s=new e({data:Z(t,"data"),options:Z(t,"options"),state:Z(t,"state"),mapTypes:Z(t,"mapTypes"),lazy:a});if(Object.keys(i).forEach(function(e){return F(s,e,i[e])}),r&&r.controls&&"function"==typeof r.controls.add)r.controls.add(s);else{if(!r||!r.add||"function"!=typeof r.add)throw new Error("No parent found to mount ".concat(t.name));r.add(s)}return"function"==typeof o&&o(s),s}},{key:"updateControl",value:function(t,e,n){var o=z(n),r=o._events,a=o.instanceRef,i=z(e),s=i._events,u=i.instanceRef;if(Y(n,"options")){var c=Z(e,"options"),l=Z(n,"options");c!==l&&t.options.set(l)}if(Y(n,"data")){var p=Z(e,"data"),f=Z(n,"data");p!==f&&t.data.set(f)}if(Y(n,"state")){var m=Z(e,"state"),d=Z(n,"state");m!==d&&t.state.set(d)}if(Y(n,"mapTypes")){var y=Z(e,"mapTypes"),h=Z(n,"mapTypes");y!==h&&(t.removeAllMapTypes(),h.forEach(function(e){return t.addMapType(e)}))}W(t,s,r),u!==a&&("function"==typeof u&&u(null),"function"==typeof a&&a(t))}},{key:"unmountControl",value:function(t,e){var n=z(e),o=n.instanceRef,r=n.parent,a=n._events;null!==t&&(Object.keys(a).forEach(function(e){return q(t,e,a[e])}),r.controls&&"function"==typeof r.controls.remove?r.controls.remove(t):r.remove&&"function"==typeof r.remove&&r.remove(t),"function"==typeof o&&o(null))}}]),t}());function Q(t,e){return M(D(function(e){return React.createElement(K,u({name:t},e))},!0,["control.".concat(t)]))}Q("Button"),Q("FullscreenControl"),Q("GeolocationControl"),Q("ListBox"),Q("ListBoxItem"),Q("RouteButton"),Q("RouteEditor"),Q("RoutePanel"),Q("RulerControl"),Q("SearchControl"),Q("TrafficControl"),Q("TypeSelector"),Q("ZoomControl")}).call(this,ee(2))},function(e,t,n){var o;!function(){"use strict";var i={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)&&n.length){var r=s.apply(null,n);r&&e.push(r)}else if("object"===o)for(var a in n)i.call(n,a)&&n[a]&&e.push(a)}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(o=function(){return s}.apply(t,[]))||(e.exports=o)}()},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},,function(e,t,n){"use strict";n.r(t);var h=n(0),o=n(1),s=n.n(o),r=wp.element.createElement("svg",{width:"18.25px",height:"30px",viewBox:"246.875 240 18.25 30",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement("path",{fill:"#E00000",d:"M264.841,251.395c0,0-0.552,2.087-0.857,2.869c-0.306,0.783-1.161,2.461-1.161,2.461l-1.379,2.383 l-2.697,4.351L254.952,269l1.749-10.776l2.423-0.521l2.378-1.296L264.841,251.395z"}),wp.element.createElement("path",{fill:"#FF3333",d:"M256,240c-5.04,0-9.125,4.085-9.125,9.125c0,5.04,4.085,9.125,9.125,9.125c5.04,0,9.125-4.085,9.125-9.125 C265.125,244.086,261.04,240,256,240z M256,252.776c-2.016,0-3.65-1.634-3.65-3.65c0-2.016,1.634-3.65,3.65-3.65 c2.016,0,3.65,1.634,3.65,3.65C259.651,251.141,258.016,252.776,256,252.776z"})),a={blockAlignment:{type:"string"},height:{type:"string",default:"400px"},width:{type:"string",default:"100%"},lat:{type:"number",default:53.918777},lon:{type:"number",default:27.562007},pm_lat:{type:"number",default:53.918777},pm_lon:{type:"number",default:27.562007},pm_balloon:{type:"string",default:""},pm_hint:{type:"string",default:""},zoom:{type:"number",default:10},has_placemark:{type:"boolean",default:!1}},i=(n(5),wp.i18n),v=i.__,u=(i.setLocaleData,i._x,i._n,i._nx,wp.blocks.registerBlockType),c=wp.components,b=(c.Panel,c.PanelBody),g=(c.PanelRow,c.RangeControl),_=c.ToggleControl,w=c.TextControl,O=wp.element.Fragment,l=wp.editor,j=l.InspectorControls,k=(l.RichText,l.BlockControls,l.AlignmentToolbar,["ru_RU","en_US","en_RU","ru_UA","uk_UA","tr_TR"]),E=document.getElementsByTagName("html")[0].getAttribute("lang").replace("-","_");u("gutenberg-yandex-block/map",{title:v("Yandex Map","guyamap"),icon:r,html:!0,customClassName:"guyamap",description:v("Block showing a Yandex Map","guyamap"),keywords:["yandex","map","yamaps"],category:"common",attributes:a,getEditWrapperProps:function(e){e.blockAlignment;return{"data-align":"full","data-resized":"false"}},edit:function(e){var t=e.attributes,n=e.setAttributes,o=(e.isSelected,e.className),r=t.width,a=t.height,i=t.lat,s=t.lon,u=t.zoom,c=t.has_placemark,l=t.pm_balloon,p=t.pm_hint,f=t.pm_lat,m=t.pm_lon,d=wp.element.createElement(O,null,wp.element.createElement(j,null,wp.element.createElement(b,{title:v("Settings","guyamap"),initialOpen:!1},wp.element.createElement("div",{className:"block-library-image__dimensions"},wp.element.createElement("div",{className:"block-library-image__dimensions__row"},wp.element.createElement(w,{type:"text",className:"components-base-control block-library-image__dimensions__width",label:v("Width","guyamap"),value:void 0!==r?r:"",onChange:function(e){n({width:e})},placeholder:"100%"}),wp.element.createElement(w,{type:"text",className:"components-base-control block-library-image__dimensions__height",label:v("Height","guyamap"),value:void 0!==a?a:"",onChange:function(e){n({height:e})},placeholder:"400px"})),wp.element.createElement("hr",null),wp.element.createElement("p",null,v("You can get latitude and longitude here:","guyamap")," ",wp.element.createElement("a",{href:"http://www.latlong.net/",target:"_blank"},"http://www.latlong.net/")),wp.element.createElement("div",{className:"block-library-image__dimensions__row"},wp.element.createElement(w,{type:"number",label:v("Latitude","guyamap"),value:isNaN(i)?"":i,placeholder:"53.918777",onChange:function(e){n({lat:parseFloat(e)})},className:"components-base-control block-library-image__dimensions__width",min:0}),wp.element.createElement(w,{type:"number",label:v("Longitude","guyamap"),value:isNaN(s)?"":s,placeholder:"27.562007",onChange:function(e){n({lon:parseFloat(e)})},className:"components-base-control block-library-image__dimensions__height",min:0})),wp.element.createElement(g,{label:v("Zoom","guyamap"),value:isNaN(u)?"":u,onChange:function(e){n({zoom:parseInt(e)})},placeholder:"10",min:0,max:17,step:1}),wp.element.createElement("hr",null),wp.element.createElement(_,{label:v("Add Placemark","guyamap"),checked:!!c,onChange:function(){n({has_placemark:!c})}}))),!!c&&wp.element.createElement(b,{title:v("Placemark","guyamap"),initialOpen:!1},wp.element.createElement("div",{className:"block-library-image__dimensions"},wp.element.createElement("div",{className:"block-library-image__dimensions__row"},wp.element.createElement(w,{type:"number",label:v("Latitude","guyamap"),value:isNaN(f)?"":f,placeholder:"53.918777",onChange:function(e){n({pm_lat:parseFloat(e)})},className:"components-base-control block-library-image__dimensions__width",min:0}),wp.element.createElement(w,{type:"number",label:v("Longitude","guyamap"),value:isNaN(m)?"":m,placeholder:"27.562007",onChange:function(e){n({pm_lon:parseFloat(e)})},className:"components-base-control block-library-image__dimensions__height",min:0})),wp.element.createElement(w,{type:"text",label:v("Hint","guyamap"),value:void 0!==p?p:"",onChange:function(e){n({pm_hint:e})}}),wp.element.createElement(w,{type:"text",label:v("Content","guyamap"),value:void 0!==l?l:"",onChange:function(e){n({pm_balloon:e})}}))))),y={center:[i,s],zoom:u};return wp.element.createElement(O,null,d,wp.element.createElement("div",{className:o},wp.element.createElement(h.c,{query:{lang:k.includes(E)?E:"en_US"}},wp.element.createElement("div",null,v("Click here to activate","guyamap")),wp.element.createElement(h.a,{state:y,width:r,height:a},!!c&&wp.element.createElement(h.b,{geometry:[f,m],properties:{hintContent:p,balloonContent:l},options:{preset:"islands#blueIcon"},modules:["geoObject.addon.balloon","geoObject.addon.hint"]})))))},save:function(e){var t=e.attributes,n=e.className,o=t.width,r=t.height,a=s()(n),i={width:o,height:r,marginLeft:"auto",marginRight:"auto"};return wp.element.createElement("div",{style:i,className:a,"data-params":JSON.stringify(t)})}})},function(e,t){}]);